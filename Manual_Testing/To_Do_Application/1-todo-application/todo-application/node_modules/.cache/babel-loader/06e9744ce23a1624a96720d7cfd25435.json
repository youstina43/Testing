{"ast":null,"code":"var _jsxFileName = \"F:\\\\TESTING\\\\Manual testing projects\\\\1-todo-application\\\\todo-application\\\\src\\\\pages\\\\SignupPage.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport { Container, TextField, Button, Divider, CircularProgress } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignupPage() {\n  _s();\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [firstNameError, setFirstNameError] = useState('');\n  const [lastNameError, setLastNameError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\n  const [submitError, setSubmitError] = useState(false);\n  const [submitErrorMessage, setSubmitErrorMessage] = useState('Something Went Wrong please try again');\n  const [loading, setLoading] = useState(false);\n  const {\n    setUser\n  } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    setPassword('');\n    setConfirmPassword('');\n    setFirstNameError('');\n    setLastNameError('');\n    setEmailError('');\n    setPasswordError('');\n    setConfirmPasswordError('');\n    setSubmitError(false); // Make Sure that the first Name is filled and more that 3 Characters\n\n    if (!firstName || firstName.length <= 3) {\n      setFirstNameError('First Name is required, and it should be more than 3 characters');\n      return;\n    }\n\n    if (!lastName || lastName.length < 3) {\n      setLastNameError('Last Name is required, and it should be more than 3 characters');\n      return;\n    }\n\n    if (!emailReg.test(email)) {\n      setEmailError('Please Insert a correct Email format');\n      return;\n    }\n\n    if (!passwordReg.test(password)) {\n      setPasswordError('Password must be Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setConfirmPasswordError('Second password does not match the first Password');\n      return;\n    }\n\n    setLoading(true);\n    axios({\n      method: 'POST',\n      url: 'http://localhost:8080/api/v1/users/register',\n      data: {\n        email,\n        password,\n        firstName,\n        lastName\n      }\n    }).then(res => {\n      if (res.status === 201) {\n        setUser(res.data);\n        localStorage.setItem('user', JSON.stringify(res.data));\n        setLoading(false);\n        history.push('/todo');\n      }\n    }).catch(err => {\n      if (err.response) {\n        setSubmitErrorMessage(err.response.data.message);\n        setSubmitError(true);\n        setLoading(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n        children: /*#__PURE__*/_jsxDEV(LoginFormContainer, {\n          children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n            \"data-testid\": \"header\",\n            children: \"Register to Application\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormSubHeader, {\n            children: \"Ready to mark some Todos as completed?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"FirstName\",\n            variant: \"outlined\",\n            type: \"text\",\n            value: firstName,\n            onChange: e => setFirstName(e.target.value),\n            error: firstNameError ? true : false,\n            helperText: firstNameError ? firstNameError : null,\n            inputProps: {\n              'data-testid': 'first-name'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"LastName\",\n            variant: \"outlined\",\n            type: \"text\",\n            value: lastName,\n            onChange: e => setLastName(e.target.value),\n            error: lastNameError ? true : false,\n            helperText: lastNameError ? lastNameError : null,\n            inputProps: {\n              'data-testid': 'last-name'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"Email\",\n            variant: \"outlined\",\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            error: emailError ? true : false,\n            helperText: emailError ? emailError : null,\n            inputProps: {\n              'data-testid': 'email'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"Password\",\n            variant: \"outlined\",\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            error: passwordError ? true : false,\n            helperText: passwordError ? passwordError : null,\n            inputProps: {\n              'data-testid': 'password'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"Confirm Password\",\n            variant: \"outlined\",\n            type: \"password\",\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value),\n            error: confirmPasswordError ? true : false,\n            helperText: confirmPasswordError ? confirmPasswordError : null,\n            inputProps: {\n              'data-testid': 'confirm-password'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSubmit,\n            \"data-testid\": \"submit\",\n            children: \"Signup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), submitError ? /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            \"data-testid\": \"error\",\n            children: submitErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(Divider, {\n            light: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormFooter, {\n            onClick: () => history.push('/login'),\n            \"data-testid\": \"go-login\",\n            children: \"Do you have an Account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignupPage, \"qjvh9IljQNjlOySeMx6PMbwLvac=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignupPage;\nexport default SignupPage;\nconst LoginContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n_c2 = LoginContainer;\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  min-height: 522px;\n`;\n_c3 = LoginFormContainer;\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n_c4 = FormHeader;\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n_c5 = FormSubHeader;\nconst FormFooter = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n_c6 = FormFooter;\nconst FormInput = styled(TextField)`\n  margin: 10px 0;\n`;\n_c7 = FormInput;\nconst Loader = styled(CircularProgress)`\n  margin: 0 auto;\n`;\n_c8 = Loader;\nconst emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst passwordReg = /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"SignupPage\");\n$RefreshReg$(_c2, \"LoginContainer\");\n$RefreshReg$(_c3, \"LoginFormContainer\");\n$RefreshReg$(_c4, \"FormHeader\");\n$RefreshReg$(_c5, \"FormSubHeader\");\n$RefreshReg$(_c6, \"FormFooter\");\n$RefreshReg$(_c7, \"FormInput\");\n$RefreshReg$(_c8, \"Loader\");","map":{"version":3,"sources":["F:/TESTING/Manual testing projects/1-todo-application/todo-application/src/pages/SignupPage.js"],"names":["styled","ThemeProvider","theme","Container","TextField","Button","Divider","CircularProgress","Alert","useState","useContext","axios","AuthContext","useHistory","SignupPage","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","firstNameError","setFirstNameError","lastNameError","setLastNameError","emailError","setEmailError","passwordError","setPasswordError","confirmPasswordError","setConfirmPasswordError","submitError","setSubmitError","submitErrorMessage","setSubmitErrorMessage","loading","setLoading","setUser","history","handleSubmit","length","emailReg","test","passwordReg","method","url","data","then","res","status","localStorage","setItem","JSON","stringify","push","catch","err","response","message","e","target","value","LoginContainer","div","LoginFormContainer","FormHeader","h2","FormSubHeader","FormFooter","FormInput","Loader"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport {\n  Container,\n  TextField,\n  Button,\n  Divider,\n  CircularProgress,\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useState, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHistory } from 'react-router-dom';\n\nfunction SignupPage() {\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] =\n    useState('');\n  const [firstNameError, setFirstNameError] = useState('');\n  const [lastNameError, setLastNameError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [confirmPasswordError, setConfirmPasswordError] =\n    useState('');\n  const [submitError, setSubmitError] = useState(false);\n  const [submitErrorMessage, setSubmitErrorMessage] =\n    useState('Something Went Wrong please try again');\n  const [loading, setLoading] = useState(false);\n  const { setUser } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleSubmit = () => {\n    setPassword('');\n    setConfirmPassword('');\n    setFirstNameError('');\n    setLastNameError('');\n    setEmailError('');\n    setPasswordError('');\n    setConfirmPasswordError('');\n    setSubmitError(false);\n\n    // Make Sure that the first Name is filled and more that 3 Characters\n    if (!firstName || firstName.length <= 3) {\n      setFirstNameError(\n        'First Name is required, and it should be more than 3 characters'\n      );\n      return;\n    }\n\n    if (!lastName || lastName.length < 3) {\n      setLastNameError(\n        'Last Name is required, and it should be more than 3 characters'\n      );\n      return;\n    }\n\n    if (!emailReg.test(email)) {\n      setEmailError('Please Insert a correct Email format');\n      return;\n    }\n\n    if (!passwordReg.test(password)) {\n      setPasswordError(\n        'Password must be Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character'\n      );\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setConfirmPasswordError(\n        'Second password does not match the first Password'\n      );\n      return;\n    }\n\n    setLoading(true);\n    axios({\n      method: 'POST',\n      url: 'http://localhost:8080/api/v1/users/register',\n      data: {\n        email,\n        password,\n        firstName,\n        lastName,\n      },\n    })\n      .then((res) => {\n        if (res.status === 201) {\n          setUser(res.data);\n          localStorage.setItem(\n            'user',\n            JSON.stringify(res.data)\n          );\n          setLoading(false);\n          history.push('/todo');\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          setSubmitErrorMessage(err.response.data.message);\n          setSubmitError(true);\n          setLoading(false);\n        }\n      });\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container maxWidth=\"md\">\n        <LoginContainer>\n          <LoginFormContainer>\n            <FormHeader data-testid=\"header\">\n              Register to Application\n            </FormHeader>\n            <FormSubHeader>\n              Ready to mark some Todos as completed?\n            </FormSubHeader>\n            <FormInput\n              required\n              label=\"FirstName\"\n              variant=\"outlined\"\n              type=\"text\"\n              value={firstName}\n              onChange={(e) => setFirstName(e.target.value)}\n              error={firstNameError ? true : false}\n              helperText={\n                firstNameError ? firstNameError : null\n              }\n              inputProps={{\n                'data-testid': 'first-name',\n              }}\n            />\n            <FormInput\n              required\n              label=\"LastName\"\n              variant=\"outlined\"\n              type=\"text\"\n              value={lastName}\n              onChange={(e) => setLastName(e.target.value)}\n              error={lastNameError ? true : false}\n              helperText={\n                lastNameError ? lastNameError : null\n              }\n              inputProps={{\n                'data-testid': 'last-name',\n              }}\n            />\n            <FormInput\n              required\n              label=\"Email\"\n              variant=\"outlined\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              error={emailError ? true : false}\n              helperText={emailError ? emailError : null}\n              inputProps={{\n                'data-testid': 'email',\n              }}\n            />\n            <FormInput\n              required\n              label=\"Password\"\n              variant=\"outlined\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              error={passwordError ? true : false}\n              helperText={\n                passwordError ? passwordError : null\n              }\n              inputProps={{\n                'data-testid': 'password',\n              }}\n            />\n            <FormInput\n              required\n              label=\"Confirm Password\"\n              variant=\"outlined\"\n              type=\"password\"\n              value={confirmPassword}\n              onChange={(e) =>\n                setConfirmPassword(e.target.value)\n              }\n              error={confirmPasswordError ? true : false}\n              helperText={\n                confirmPasswordError\n                  ? confirmPasswordError\n                  : null\n              }\n              inputProps={{\n                'data-testid': 'confirm-password',\n              }}\n            />\n            {loading ? (\n              <Loader />\n            ) : (\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n                data-testid=\"submit\">\n                Signup\n              </Button>\n            )}\n\n            {submitError ? (\n              <Alert severity=\"error\" data-testid=\"error\">\n                {submitErrorMessage}\n              </Alert>\n            ) : null}\n\n            <Divider light={true} />\n            <FormFooter\n              onClick={() => history.push('/login')}\n              data-testid=\"go-login\">\n              Do you have an Account?\n            </FormFooter>\n          </LoginFormContainer>\n        </LoginContainer>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default SignupPage;\n\nconst LoginContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  min-height: 522px;\n`;\n\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n\nconst FormFooter = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst FormInput = styled(TextField)`\n  margin: 10px 0;\n`;\n\nconst Loader = styled(CircularProgress)`\n  margin: 0 auto;\n`;\n\nconst emailReg =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst passwordReg =\n  /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/;\n"]},"metadata":{},"sourceType":"module"}