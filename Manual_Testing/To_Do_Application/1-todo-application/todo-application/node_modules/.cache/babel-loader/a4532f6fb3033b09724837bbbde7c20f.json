{"ast":null,"code":"var _jsxFileName = \"F:\\\\TESTING\\\\Manual testing projects\\\\1-todo-application\\\\todo-application\\\\src\\\\pages\\\\TodoPage.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport { Container, IconButton } from '@material-ui/core';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useHistory } from 'react-router-dom';\nimport { useState, useContext } from 'react';\nimport { useEffect } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport TodoItem from '../components/Todo/TodoItem';\nimport Pagination from '../components/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n_c = LoginContainer;\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  min-height: 522px;\n  position: relative;\n`;\n_c2 = LoginFormContainer;\nconst CreateNewTodoContainer = styled.div`\n  margin-left: auto;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 10px 0;\n`;\n_c3 = CreateNewTodoContainer;\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n_c4 = FormHeader;\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n_c5 = FormSubHeader;\n\nconst getWelcome = () => {\n  const currentHour = new Date().getHours();\n\n  if (currentHour >= 0 && currentHour <= 5) {\n    return 'Time to sleep';\n  }\n\n  if (currentHour > 5 && currentHour <= 12) {\n    return 'Good morning';\n  }\n\n  if (currentHour > 12 && currentHour <= 17) {\n    return 'Good afternoon';\n  }\n\n  if (currentHour > 17) {\n    return 'Good Evening';\n  }\n};\n\nconst getName = name => {\n  if (!name || name.length < 2 || name.includes('@') || name.includes('.')) {\n    return 'user';\n  } else {\n    return name;\n  }\n};\n\nfunction TodoPage() {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(5);\n  const history = useHistory();\n  const {\n    user\n  } = useContext(AuthContext);\n  useEffect(() => {\n    axios({\n      method: 'GET',\n      url: `http://localhost:8080/api/v1/tasks`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      console.log(res.data.tasks.sort().reverse());\n      setTodos(res.data.tasks);\n    }).catch(err => {\n      console.log(err.response);\n    });\n  }, [user.access_token]);\n\n  const handleDelete = id => {\n    axios({\n      method: 'Delete',\n      url: `http://localhost:8080/api/v1/tasks/${id}`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`\n      }\n    }).then(res => {\n      const newTodos = todos.filter(todo => todo._id !== id);\n      setTodos(newTodos);\n    });\n  };\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentTodos = todos.slice(indexOfFirstPost, indexOfLastPost);\n\n  const paginate = number => setCurrentPage(number);\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n        children: /*#__PURE__*/_jsxDEV(LoginFormContainer, {\n          children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n            \"data-testid\": \"welcome\",\n            children: `${getWelcome()} ${getName(user.firstName)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CreateNewTodoContainer, {\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"delete\",\n              onClick: () => history.push('/todo/new'),\n              children: /*#__PURE__*/_jsxDEV(AddIcon, {\n                color: \"action\",\n                fontSize: \"small\",\n                \"data-testid\": \"add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormSubHeader, {\n              children: \"Add a new Todo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), currentTodos.map(todo => /*#__PURE__*/_jsxDEV(TodoItem, {\n            todo: todo,\n            updateTodo: setTodos,\n            handleDelete: handleDelete\n          }, todo._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this)), !currentTodos.length && /*#__PURE__*/_jsxDEV(\"h4\", {\n            \"data-testid\": \"no-todos\",\n            children: \"No Available Todos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), currentTodos.length === 5 && /*#__PURE__*/_jsxDEV(\"h4\", {\n            \"data-testid\": \"no-todos\",\n            children: \"No Available Todos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), todos.length > postsPerPage && /*#__PURE__*/_jsxDEV(Pagination, {\n            postsPerPage: postsPerPage,\n            totalPosts: todos.length,\n            paginate: paginate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TodoPage, \"9t3A48VkZbF0xOUbf6Sx0mQEB4c=\", false, function () {\n  return [useHistory];\n});\n\n_c6 = TodoPage;\nexport default TodoPage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"LoginContainer\");\n$RefreshReg$(_c2, \"LoginFormContainer\");\n$RefreshReg$(_c3, \"CreateNewTodoContainer\");\n$RefreshReg$(_c4, \"FormHeader\");\n$RefreshReg$(_c5, \"FormSubHeader\");\n$RefreshReg$(_c6, \"TodoPage\");","map":{"version":3,"sources":["F:/TESTING/Manual testing projects/1-todo-application/todo-application/src/pages/TodoPage.js"],"names":["styled","ThemeProvider","theme","Container","IconButton","AddIcon","useHistory","useState","useContext","useEffect","AuthContext","axios","TodoItem","Pagination","LoginContainer","div","LoginFormContainer","CreateNewTodoContainer","FormHeader","h2","FormSubHeader","getWelcome","currentHour","Date","getHours","getName","name","length","includes","TodoPage","todos","setTodos","currentPage","setCurrentPage","postsPerPage","history","user","method","url","headers","Authorization","access_token","then","res","console","log","data","tasks","sort","reverse","catch","err","response","handleDelete","id","newTodos","filter","todo","_id","indexOfLastPost","indexOfFirstPost","currentTodos","slice","paginate","number","firstName","push","map"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport { Container, IconButton } from '@material-ui/core';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport { useHistory } from 'react-router-dom';\nimport { useState, useContext } from 'react';\nimport { useEffect } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport TodoItem from '../components/Todo/TodoItem';\nimport Pagination from '../components/Pagination';\n\nconst LoginContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  min-height: 522px;\n  position: relative;\n`;\n\nconst CreateNewTodoContainer = styled.div`\n  margin-left: auto;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 10px 0;\n`;\n\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n\nconst getWelcome = () => {\n  const currentHour = new Date().getHours();\n\n  if (currentHour >= 0 && currentHour <= 5) {\n    return 'Time to sleep';\n  }\n  if (currentHour > 5 && currentHour <= 12) {\n    return 'Good morning';\n  }\n\n  if (currentHour > 12 && currentHour <= 17) {\n    return 'Good afternoon';\n  }\n\n  if (currentHour > 17) {\n    return 'Good Evening';\n  }\n};\n\nconst getName = (name) => {\n  if (\n    !name ||\n    name.length < 2 ||\n    name.includes('@') ||\n    name.includes('.')\n  ) {\n    return 'user';\n  } else {\n    return name;\n  }\n};\n\nfunction TodoPage() {\n  const [todos, setTodos] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(5);\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    axios({\n      method: 'GET',\n      url: `http://localhost:8080/api/v1/tasks`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n      },\n    })\n      .then((res) => {\n        console.log(res.data.tasks.sort().reverse());\n        setTodos(res.data.tasks);\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  }, [user.access_token]);\n\n  const handleDelete = (id) => {\n    axios({\n      method: 'Delete',\n      url: `http://localhost:8080/api/v1/tasks/${id}`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n      },\n    }).then((res) => {\n      const newTodos = todos.filter(\n        (todo) => todo._id !== id\n      );\n      setTodos(newTodos);\n    });\n  };\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentTodos = todos.slice(\n    indexOfFirstPost,\n    indexOfLastPost\n  );\n\n  const paginate = (number) => setCurrentPage(number);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container maxWidth=\"md\">\n        <LoginContainer>\n          <LoginFormContainer>\n            <FormHeader data-testid=\"welcome\">{`${getWelcome()} ${getName(\n              user.firstName\n            )}`}</FormHeader>\n            <CreateNewTodoContainer>\n              <IconButton\n                aria-label=\"delete\"\n                onClick={() => history.push('/todo/new')}>\n                <AddIcon\n                  color=\"action\"\n                  fontSize=\"small\"\n                  data-testid=\"add\"\n                />\n              </IconButton>\n              <FormSubHeader>Add a new Todo</FormSubHeader>\n            </CreateNewTodoContainer>\n            {currentTodos.map((todo) => (\n              <TodoItem\n                key={todo._id}\n                todo={todo}\n                updateTodo={setTodos}\n                handleDelete={handleDelete}\n              />\n            ))}\n            {!currentTodos.length && (\n              <h4 data-testid=\"no-todos\">\n                No Available Todos\n              </h4>\n            )}\n\n            {currentTodos.length === 5 && (\n              <h4 data-testid=\"no-todos\">\n                No Available Todos\n              </h4>\n            )}\n\n            {todos.length > postsPerPage && (\n              <Pagination\n                postsPerPage={postsPerPage}\n                totalPosts={todos.length}\n                paginate={paginate}\n              />\n            )}\n          </LoginFormContainer>\n        </LoginContainer>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default TodoPage;\n"]},"metadata":{},"sourceType":"module"}