{"ast":null,"code":"var _jsxFileName = \"F:\\\\TESTING\\\\Manual testing projects\\\\1-todo-application\\\\todo-application\\\\src\\\\pages\\\\NewTodo.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport { Container, TextField, Button, Divider, CircularProgress } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useHistory } from 'react-router-dom';\nimport { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n_c = LoginContainer;\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  height: 522px;\n`;\n_c2 = LoginFormContainer;\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n_c3 = FormHeader;\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n_c4 = FormSubHeader;\nconst FormFooter = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n_c5 = FormFooter;\nconst FormInput = styled(TextField)`\n  margin: 10px 0;\n`;\n_c6 = FormInput;\n\nfunction NewTodo() {\n  _s();\n\n  const history = useHistory();\n  const [newTodo, setNewTodo] = useState('');\n  const [newTodoError, setNewTodoError] = useState('');\n  const [submitError, setSubmitError] = useState(false);\n  const [submitErrorMessage, setSubmitErrorMessage] = useState('Something Went Wrong please try again');\n  const [loading, setLoading] = useState(false);\n  const {\n    user\n  } = useContext(AuthContext);\n\n  const handleSubmit = () => {\n    setNewTodoError('');\n    setNewTodo('');\n    setSubmitError(false); // Make Sure that the first Name is filled and more that 3 Characters\n\n    if (!newTodo || newTodo.length < 3) {\n      setNewTodoError('New todo is required, and it should be more than 3 characters');\n      return;\n    }\n\n    setLoading(true);\n    axios({\n      method: 'POST',\n      url: `http://localhost:8080/api/v1/tasks`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`\n      },\n      data: {\n        item: newTodo,\n        isCompleted: false,\n        userID: user.id\n      }\n    }).then(res => {\n      history.push('/todo');\n    }).catch(err => {\n      if (err.response) {\n        setSubmitErrorMessage(err.response.data.message);\n        setSubmitError(true);\n        setLoading(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n        children: /*#__PURE__*/_jsxDEV(LoginFormContainer, {\n          children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n            \"data-testid\": \"header\",\n            children: \"Create a new Todo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormSubHeader, {\n            \"data-testid\": \"sub-header\",\n            children: \"Ready to mark some Todos as completed?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            required: true,\n            label: \"Todo Item\",\n            variant: \"outlined\",\n            type: \"text\",\n            value: newTodo,\n            onChange: e => setNewTodo(e.target.value),\n            error: newTodoError ? true : false,\n            helperText: newTodoError ? newTodoError : null,\n            inputProps: {\n              'data-testid': 'new-todo'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleSubmit,\n            \"data-testid\": \"submit-newTask\",\n            children: \"Create Todo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), submitError ? /*#__PURE__*/_jsxDEV(Alert, {\n            \"data-testid\": \"error-message\",\n            severity: \"error\",\n            children: submitErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(Divider, {\n            light: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormFooter, {\n            onClick: () => history.push('/todo'),\n            \"data-testid\": \"back\",\n            children: \"Go back to your Todos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewTodo, \"LEKizCkzTCNsVGyvVPsJVGuKPbM=\", false, function () {\n  return [useHistory];\n});\n\n_c7 = NewTodo;\nexport default NewTodo;\nconst Loader = styled(CircularProgress)`\n  margin: 0 auto;\n`;\n_c8 = Loader;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"LoginContainer\");\n$RefreshReg$(_c2, \"LoginFormContainer\");\n$RefreshReg$(_c3, \"FormHeader\");\n$RefreshReg$(_c4, \"FormSubHeader\");\n$RefreshReg$(_c5, \"FormFooter\");\n$RefreshReg$(_c6, \"FormInput\");\n$RefreshReg$(_c7, \"NewTodo\");\n$RefreshReg$(_c8, \"Loader\");","map":{"version":3,"sources":["F:/TESTING/Manual testing projects/1-todo-application/todo-application/src/pages/NewTodo.js"],"names":["styled","ThemeProvider","theme","Container","TextField","Button","Divider","CircularProgress","Alert","useHistory","useState","useContext","AuthContext","axios","LoginContainer","div","LoginFormContainer","FormHeader","h2","FormSubHeader","FormFooter","FormInput","NewTodo","history","newTodo","setNewTodo","newTodoError","setNewTodoError","submitError","setSubmitError","submitErrorMessage","setSubmitErrorMessage","loading","setLoading","user","handleSubmit","length","method","url","headers","Authorization","access_token","data","item","isCompleted","userID","id","then","res","push","catch","err","response","message","e","target","value","Loader"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport { ThemeProvider } from '@material-ui/styles';\nimport theme from '../Theme/theme';\nimport {\n  Container,\n  TextField,\n  Button,\n  Divider,\n  CircularProgress,\n} from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport { useHistory } from 'react-router-dom';\nimport { useState, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\n\nconst LoginContainer = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LoginFormContainer = styled.div`\n  padding: 32px;\n  display: flex;\n  flex-direction: column;\n  background-color: #222c36;\n  border-radius: 16px;\n  box-shadow: rgb(0 0 0 / 70%) 0px 0px 1px 0px,\n    rgb(0 0 0 / 50%) 0px 3px 4px -2px;\n  width: 522px;\n  height: 522px;\n`;\n\nconst FormHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n`;\n\nconst FormSubHeader = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n`;\n\nconst FormFooter = styled.h2`\n  color: rgb(145, 158, 171);\n  line-height: 1.43;\n  font-size: 0.875rem;\n  margin: 1rem 0;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst FormInput = styled(TextField)`\n  margin: 10px 0;\n`;\n\nfunction NewTodo() {\n  const history = useHistory();\n  const [newTodo, setNewTodo] = useState('');\n  const [newTodoError, setNewTodoError] = useState('');\n  const [submitError, setSubmitError] = useState(false);\n  const [submitErrorMessage, setSubmitErrorMessage] =\n    useState('Something Went Wrong please try again');\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const handleSubmit = () => {\n    setNewTodoError('');\n    setNewTodo('');\n    setSubmitError(false);\n\n    // Make Sure that the first Name is filled and more that 3 Characters\n    if (!newTodo || newTodo.length < 3) {\n      setNewTodoError(\n        'New todo is required, and it should be more than 3 characters'\n      );\n      return;\n    }\n\n    setLoading(true);\n    axios({\n      method: 'POST',\n      url: `http://localhost:8080/api/v1/tasks`,\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n      },\n      data: {\n        item: newTodo,\n        isCompleted: false,\n        userID: user.id,\n      },\n    })\n      .then((res) => {\n        history.push('/todo');\n      })\n      .catch((err) => {\n        if (err.response) {\n          setSubmitErrorMessage(err.response.data.message);\n          setSubmitError(true);\n          setLoading(false);\n        }\n      });\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Container maxWidth=\"md\">\n        <LoginContainer>\n          <LoginFormContainer>\n            <FormHeader data-testid=\"header\">\n              Create a new Todo\n            </FormHeader>\n            <FormSubHeader data-testid=\"sub-header\">\n              Ready to mark some Todos as completed?\n            </FormSubHeader>\n            <FormInput\n              required\n              label=\"Todo Item\"\n              variant=\"outlined\"\n              type=\"text\"\n              value={newTodo}\n              onChange={(e) => setNewTodo(e.target.value)}\n              error={newTodoError ? true : false}\n              helperText={\n                newTodoError ? newTodoError : null\n              }\n              inputProps={{\n                'data-testid': 'new-todo',\n              }}\n            />\n            {loading ? (\n              <Loader />\n            ) : (\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n                data-testid=\"submit-newTask\">\n                Create Todo\n              </Button>\n            )}\n\n            {submitError ? (\n              <Alert\n                data-testid=\"error-message\"\n                severity=\"error\">\n                {submitErrorMessage}\n              </Alert>\n            ) : null}\n\n            <Divider light={true} />\n            <FormFooter\n              onClick={() => history.push('/todo')}\n              data-testid=\"back\">\n              Go back to your Todos\n            </FormFooter>\n          </LoginFormContainer>\n        </LoginContainer>\n      </Container>\n    </ThemeProvider>\n  );\n}\n\nexport default NewTodo;\n\nconst Loader = styled(CircularProgress)`\n  margin: 0 auto;\n`;\n"]},"metadata":{},"sourceType":"module"}